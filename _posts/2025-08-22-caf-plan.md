---
layout: single
title: "Hybrid-First CAF Plan: From Strategy to a Living Backlog"
permalink: /caf-plan/
date: 2025-08-20

# ‚úÖ keep this as a one-item array (same as your last post)
categories:
  - Cloud Adaption Framework

tags: ["Azure", "Security", "Governance", "CAF"]

# Hero header on the post page
# keep your current overlay_image settings
header:
  overlay_image: "/assets/images/CAF-Plan-Hero.webp"
  overlay_filter: 0.4
  caption: "Photo: canva"

# Social preview image for LinkedIn, Teams, etc. (absolute URL)
image: "https://voelker.blog/assets/images/CAF-Plan-Social.png"

# Thumbnail used on lists and grids
teaser: "/assets/images/CAF-Plan-Teaser.webp"

author_profile: true
toc: true
toc_sticky: true
---

## Intro

Most Cloud Adoption Framework guides start by building platforms. This one starts with **people and a plan**. 

If you‚Äôre an MSP or system integrator with on-prem customers or your own data center, use this **hybrid-first path** to turn strategy into action fast:

‚ñ∏ Confirm outcomes

‚ñ∏ Assign roles using **RACI** (Responsible, Accountable, Consulted, Informed)

‚ñ∏ Snapshot the **digital estate**

‚ñ∏ Choose the **‚Äú8 Rs‚Äù** per workload (**Retire, Retain, Rehost, Replatform, Refactor, Rearchitect, Rebuild, Replace**)

‚ñ∏ And **sequence the first migration wave** before touching landing zones<br>

Along the way you‚Äôll get only what you need to move:

‚ñ∏ A couple of **copy-paste PowerShell checks** and a **small inventory snippet** (no forms)

‚ñ∏ Plus a pointer to Microsoft‚Äôs official **End-of-Support** source for precise dates

The result is a **living adoption backlog** that respects real-world constraints and actually ships value.

## People First: Roles & RACI

Before you touch platforms, make ownership crystal-clear. Define who drives adoption, who runs platform guardrails, and who is accountable per workload.

**RACI**
<table class="table table--raci">
    <thead>
    <tr>
      <th scope="col">Workstream / Workload</th>
      <th scope="col">Purpose (what this team owns)</th>
      <th scope="col">Responsible (R)</th>
      <th scope="col">Accountable (A)</th>
      <th scope="col">Consulted (C)</th>
      <th scope="col">Informed (I)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">Adoption (overall)</th>
      <td>Backlog, wave planning, comms &amp; change</td>
      <td>Cloud Adoption Lead</td>
      <td>Exec Sponsor</td>
      <td>CIO, CISO, PMO</td>
      <td>Helpdesk, Finance</td>
    </tr>
    <tr>
      <th scope="row">Platform guardrails</th>
      <td>Identity, networking, policy, landing zones</td>
      <td>Platform/Infra Lead</td>
      <td>Head of IT</td>
      <td>Security, Networking, Identity</td>
      <td>App Owners</td>
    </tr>
    <tr>
      <th scope="row">Security &amp; compliance</th>
      <td>Reviews, risk mgmt, compliance mapping</td>
      <td>Security Lead</td>
      <td>CISO</td>
      <td>Platform, Data, Legal</td>
      <td>Exec Sponsor, PMO</td>
    </tr>
    <tr>
      <th scope="row"><strong>Workload: Customer Portal</strong></th>
      <td>Wave 1 delivery for this app</td>
      <td>App Team Lead</td>
      <td>LoB/Product Owner</td>
      <td>Platform, Security, DBAs</td>
      <td>Support, PMO</td>
    </tr>
    <tr>
      <th scope="row"><strong>Workload: Data Warehouse</strong></th>
      <td>Wave 1 delivery for this data platform</td>
      <td>Data/Analytics Lead</td>
      <td>LoB/Product Owner</td>
      <td>Platform, Security, Networking</td>
      <td>Support, PMO</td>
    </tr>
  </tbody>
</table>

> Tip: Replace role titles with names once confirmed. Keep the table in your repo/wiki and update per wave.


## Quick checklist<br>
‚ñ∏ [ ] **Accountability set:** <br>
Each Wave 1 workload has a named **A** (Accountable) and an **R** (Responsible)

‚ñ∏ [ ] **Capacity secured:** <br>
Adoption & Platform teams have bandwidth and **time-boxed** commitments

‚ñ∏ [ ] **Security in the loop:** <br>
Security/Compliance are **C** (Consulted) with a defined review **SLA** (e.g., 3 business days)

‚ñ∏ [ ] **Cadence agreed:** <br>
Reporting rhythm set (weekly/bi-weekly) with a short, consistent template

‚ñ∏ [ ] **Escalation path:** <br>
Who unblocks decisions within **24h‚Äì48h** is documented

‚ñ∏ [ ] **Kick-off booked (60 min):** <br>
Outcomes/KPIs (10) ‚Üí Wave 1 candidates (15) ‚Üí Draft RACI (15) ‚Üí Next steps (20)

‚ñ∏ [ ] **Published & visible:** <br>
RACI stored in a shared location; owners linked on backlog items

‚ñ∏ [ ] **Next 7‚Äì10 days committed:** <br>
3‚Äì5 tasks assigned with owners & due dates (e.g., estate snapshot, 8Rs workshop, security review)<br>

<!-- Place this block right BEFORE the SQL 2014 scenario section -->

<h2 id="prioritization">Prioritize &amp; Sequence Value √ó Feasibility</h2>
<p>
  Score each candidate workload on <strong>Value</strong> (business impact) and <strong>Feasibility</strong>
  (readiness, risk, effort) from <strong>1‚Äì5</strong>. Multiply to get a priority score (<em>V√óF</em>).
  Pick a small, representative <strong>Wave 1</strong> you can complete in 4‚Äì6 weeks.
</p>

**Value √ó Feasibility scoring**
<table class="table table--vxf">
  <thead>
    <tr>
      <th scope="col">Workload</th>
      <th scope="col">Value (1‚Äì5)</th>
      <th scope="col">Feasibility (1‚Äì5)</th>
      <th scope="col">Score (= V√óF)</th>
      <th scope="col">Notes / Risks</th>
      <th scope="col">Decision</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">Customer Portal (DB + API)</th>
      <td>5</td>
      <td>3</td>
      <td><strong>15</strong></td>
      <td>DB dependency; change window needed</td>
      <td>‚úÖ Wave 1</td>
    </tr>
    <tr>
      <th scope="row">Data Warehouse</th>
      <td>4</td>
      <td>4</td>
      <td><strong>16</strong></td>
      <td>Throughput OK; network verified</td>
      <td>‚úÖ Wave 1</td>
    </tr>
    <tr>
      <th scope="row">Legacy Report Generator</th>
      <td>2</td>
      <td>5</td>
      <td><strong>10</strong></td>
      <td>No usage last 6 months</td>
      <td>üî∏ Retire / later</td>
    </tr>
  </tbody>
</table>

> Tip: If you can‚Äôt decide an 8R disposition quickly, default to Rehost (bridge) or Replatform (PaaS) and revisit later.

## Scenario: On-Prem SQL Server 2014 (End of Support)

**Context:** <br>
‚ñ∏ Classic 3-tier app. Database = **SQL Server 2014** (End of Support **July 9, 2024**)<br> 
‚ñ∏ OS = **Windows Server 2012 R2** (End of Support **Oct 10, 2023**)<br>
‚ñ∏ Goal = **reduce risk now**, then modernize on your timeline, without rebuilding platforms first

**Heads-up on ESU timing:**  
‚ñ∏ If you activate paid **Extended Security Updates (ESU)** for on-prem workloads **after** the End-of-Support date via **Azure Arc** (Windows or SQL), Microsoft charges a **one-time bill-back** for the months that have elapsed in the current ESU year.<br>
‚ñ∏ In **Azure** (e.g., Azure VMs/AVS/Stack), ESUs are **included**, no ESU license fee and no ESU bill-back.

## Step 1: Bridge risk in days

‚ñ∏ **Win Server 2012/2012 R2 ESU via Azure Arc + Update Manager**<br>
Onboard the server to **Azure Arc**, purchase/enable **ESU**, then use **Azure Update Manager** to schedule deployments and track compliance

‚ñ∏ **SQL Server 2014 ESU**
  - **On-prem/hosted:** onboard the instance to **Azure Arc-enabled SQL Server** and subscribe ESU 
  - **In Azure (VMs/AVS/Stack):** ESU is **included**, you pay only for the Azure resources

‚ñ∏ Verify **backups & monitoring**. Define a **maintenance window** and a simple **rollback**

**Deliverables this week**<br>
‚ñ∏ Arc agent connected on OS + SQL; baseline policies assigned <br>
‚ñ∏ ESU active (Windows + SQL); Update Manager window & compliance reports configured <br>
‚ñ∏ Backup-restore test **passed**

## Step 2: 8 Rs per workload<br>
‚ñ∏ **Database (SQL 2014):** <br>
Prefer **Replatform** to **Azure SQL Managed Instance** in Wave 2 (if feature-compatible).<br>
If not ready, **Rehost** to an **Azure VM** as a bridge while you refactor

‚ñ∏ **App/Web tiers:** <br>
Likely **Retain/Rehost** short term; schedule modernization later

## Step 3: Wave 1 backlog
‚ñ∏ **Epic:** Stabilize ‚ÄúCustomer-Portal DB‚Äù under ESU  
  - **Feature:** Arc onboarding & ESU activation (Windows + SQL)  
    - **Task:** Connect servers to Arc; enroll ESU (Windows) & subscribe ESU (SQL)  
    - **Task:** Configure Update Manager maintenance window & compliance reports  
  - **Feature:** Risk controls  
    - **Task:** Verify backups & test restore; alert on failed jobs  
    - **Task:** Capture dependencies (app ‚Üí DB, jobs/ETL, linked servers)

**Exit criteria**<br>
‚ñ∏ ESU compliant; last 30 days patch compliance ‚â• **95%**  
‚ñ∏ Backup-restore test **passed**  
‚ñ∏ Named **Accountable** owner for DB & app; Security review SLA ‚â§ **3 business days**

## One-liners (sanity checks)

{% highlight powershell %}
Get-HotFix | Sort-Object InstalledOn -Descending | Select-Object -First 10
{% endhighlight %}

{% highlight powershell %}
sqlcmd -Q "SELECT @@VERSION"
{% endhighlight %}

## Mini tool: Hybrid estate inventory

Read-only, quick snapshot for Windows servers. Exports a CSV with OS info and flags Windows Server 2012/2012 R2 as **EoS risk**.

**What it does**<br>
‚ñ∏ Queries OS caption/version and last boot via CIM/WMI<br>
‚ñ∏ Flags **High** risk for WS 2012/2012 R2 (EoS: 2023-10-10)<br>
‚ñ∏ Writes `.\estate.csv` for your Wave 1 planning<br>

**Requirements**<br>
‚ñ∏ PowerShell 5.1+ (Windows); network reachability to targets <br>
‚ñ∏ For **Option A**: RSAT **ActiveDirectory** module

**Option A: Discover from Active Directory (exports `estate.csv`)**

{% highlight powershell linenos %}
Import-Module ActiveDirectory

Get-ADComputer -Filter 'OperatingSystem -like "*Windows Server*"' -Properties DNSHostName |
  Where-Object DNSHostName |
  ForEach-Object {
    $s = $_.DNSHostName
    try {
      $os = Get-CimInstance Win32_OperatingSystem -ComputerName $s -ErrorAction Stop
      $risk = 'OK'; $eos = ''
      if ($os.Caption -match 'Windows Server 2012( R2)?') { $risk = 'High'; $eos = '2023-10-10' }
      [pscustomobject]@{
        ComputerName = $s
        OSCaption    = $os.Caption
        OSVersion    = $os.Version
        LastBoot     = $os.LastBootUpTime
        EoS_End      = $eos
        Risk         = $risk
      }
    } catch {
      [pscustomobject]@{ ComputerName=$s; OSCaption='N/A'; OSVersion=''; LastBoot=''; EoS_End=''; Risk='Unreachable' }
    }
  } |
  Export-Csv -NoTypeInformation -Encoding UTF8 .\estate.csv

Write-Host "Saved to .\estate.csv"
{% endhighlight %}

**Option B: Target specific servers (no AD needed)**

{% highlight powershell linenos %}
$servers = @('srv1','srv2','srv3')

$rows = foreach ($s in $servers) {
  try {
    $os = Get-CimInstance Win32_OperatingSystem -ComputerName $s -ErrorAction Stop
    $risk = 'OK'; $eos = ''
    if ($os.Caption -match 'Windows Server 2012( R2)?') { $risk = 'High'; $eos = '2023-10-10' }
    [pscustomobject]@{
      ComputerName = $s
      OSCaption    = $os.Caption
      OSVersion    = $os.Version
      LastBoot     = $os.LastBootUpTime
      EoS_End      = $eos
      Risk         = $risk
    }
  } catch {
    [pscustomobject]@{ ComputerName=$s; OSCaption='N/A'; OSVersion=''; LastBoot=''; EoS_End=''; Risk='Unreachable' }
  }
}

$rows | Export-Csv -NoTypeInformation -Encoding UTF8 .\estate.csv
Write-Host "Saved to .\estate.csv"
{% endhighlight %}

**CSV columns**
`ComputerName, OSCaption, OSVersion, LastBoot, EoS_End, Risk`

> Tip: Run Windows Terminal/PowerShell as **Administrator** for fewer RPC/CIM hiccups. Both variants are **read-only** and safe to run.

## EOL & Product Lifecycle

For End of Support (EoS) and lifecycle dates, always use the official Microsoft source:

- [Microsoft Learn ‚Äî Product lifecycle](https://learn.microsoft.com/en-us/lifecycle/products/){: target="_blank" }

> Tip: In your client work, deep-link the exact product pages (e.g., Windows Server 2012/2012 R2, SQL Server 2014) so readers see the precise dates and ESU notes.
