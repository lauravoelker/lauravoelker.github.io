<div style="padding:.5rem;background:#ffe8a3;">LZGEN include loaded</div>

<!-- _includes/lzgen.html -->
<section id="lzgen" class="lz-wrap">
  {% unless include.hide_title %}
  <h2>CAF Ready - Landing Zone Generator</h2>
  <p>Pick a preset or configure everything. Click Generate to get Bicep and Terraform starters. You can also export ALZ-compatible params and tfvars.</p>
  {% endunless %}

  <!-- Region suggestions (for all app LZs) -->
  <datalist id="azureRegions">
    <option value="westeurope"><option value="northeurope"><option value="germanywestcentral">
    <option value="germanynorth"><option value="uksouth"><option value="ukwest">
    <option value="francecentral"><option value="swedencentral"><option value="norwayeast">
    <option value="switzerlandnorth"><option value="polandcentral">
    <option value="eastus"><option value="eastus2"><option value="westus2"><option value="westus3">
    <option value="centralus"><option value="southcentralus"><option value="canadacentral">
  </datalist>

  <!-- CARDS GRID (unverändert aus deiner Version) -->
  <div class="lz-grid">
    <!-- Preset -->
    <div class="lz-card">
      <h3>Preset</h3>
      <select id="preset">
        <option value="starter">Starter - SMB, quick start</option>
        <option value="regulated">Regulated - strong policy set</option>
        <option value="enterprise">Enterprise - multi subscription, hub and spoke</option>
      </select>
      <button type="button" id="applyPreset">Apply preset</button>
    </div>

    <!-- Organization -->
    <!-- … ALLE deine bestehenden Cards, Felder und Sections (AVD/AKS/SAP/APIM) 1:1 beibehalten … -->
    <!-- Ich kürze hier nur für die Nachricht; du kannst deinen gesamten HTML-Block unverändert lassen. -->
    <!-- BEGIN: kopiere hier deinen kompletten Karten-/Formular-HTML-Teil aus deiner Datei rein -->
    <!-- (Von <div class="lz-card"><h3>Organization</h3> … bis zum Ende der APIM-Section) -->
    <!-- END -->

  </div>

  <div class="lz-actions">
    <button type="button" id="generate">Generate</button>
    <button type="button" id="copyBicep">Copy Bicep</button>
    <button type="button" id="copyTf">Copy Terraform</button>
    <button type="button" id="downloadBicep">Download Bicep</button>
    <button type="button" id="downloadTf">Download Terraform</button>
    <button type="button" id="exportAlz">Export ALZ params.json</button>
    <button type="button" id="exportTfvars">Export tfvars</button>
    <button type="button" id="downloadAvdBicep">Download AVD Bicep</button>
    <button type="button" id="downloadAvdTf">Download AVD Terraform</button>
    <button type="button" id="downloadAksBicep">Download AKS Bicep</button>
    <button type="button" id="downloadAksTf">Download AKS Terraform</button>
    <button type="button" id="downloadSapBicep">Download SAP Bicep</button>
    <button type="button" id="downloadSapTf">Download SAP Terraform</button>
    <button type="button" id="downloadApimBicep">Download APIM Bicep</button>
    <button type="button" id="downloadApimTf">Download APIM Terraform</button>
    <button type="button" id="share">Share link</button>
    <span id="toast" role="status" aria-live="polite"></span>
  </div>

  <details open class="lz-output">
    <summary>Output</summary>
    <h4>Summary</h4>
    <pre id="summary"></pre>
    <h4>Bicep</h4>
    <pre id="bicep"></pre>
    <h4>Terraform</h4>
    <pre id="tf"></pre>
    <h4>Application (AVD) – Bicep</h4>
    <pre id="avdBicep"></pre>
    <h4>Application (AVD) – Terraform</h4>
    <pre id="avdTf"></pre>
    <h4>Application (AKS) – Bicep</h4>
    <pre id="aksBicep"></pre>
    <h4>Application (AKS) – Terraform</h4>
    <pre id="aksTf"></pre>
    <h4>Application (SAP) – Bicep</h4>
    <pre id="sapBicep"></pre>
    <h4>Application (SAP) – Terraform</h4>
    <pre id="sapTf"></pre>
    <h4>Application (APIM) – Bicep</h4>
    <pre id="apimBicep"></pre>
    <h4>Application (APIM) – Terraform</h4>
    <pre id="apimTf"></pre>
  </details>
</section>

<style>
/* Scoped styles – keep theme header intact */
#lzgen { font:16px/1.5 system-ui,Segoe UI,Roboto,Arial,sans-serif; margin:2rem 0; padding:1rem 0; }
#lzgen .lz-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:1rem}
#lzgen .lz-card{border:1px solid var(--b,#ddd);border-radius:10px;padding:1rem;background:var(--bg,#fff);box-shadow:0 1px 2px rgba(0,0,0,.04)}
#lzgen .lz-card h3{margin:.2rem 0 .6rem 0;font-size:1.05rem}
#lzgen label{display:block;margin:.5rem 0}
#lzgen input,#lzgen select,#lzgen button{width:100%;padding:.6rem;border:1px solid var(--b,#ccc);border-radius:8px;background:var(--bg,#fff)}
#lzgen button{cursor:pointer}
#lzgen .lz-actions{display:grid;grid-template-columns:repeat(auto-fit,minmax(190px,1fr));gap:.6rem;margin:1rem 0}
#lzgen .lz-output pre{white-space:pre-wrap;background:#0a0a0a;color:#f4f4f4;padding:1rem;border-radius:10px;overflow:auto}
#lzgen #toast{display:inline-block;margin-left:.5rem;min-height:1.2em}
@media (prefers-color-scheme: dark){
  #lzgen{--bg:#111;--b:#333}
  #lzgen .lz-card{background:#111;border-color:#333}
  #lzgen input,#lzgen select,#lzgen button{background:#0d0d0d;color:#eee;border-color:#333}
}
</style>

<!-- Wichtig: JS jetzt extern laden (CSP-freundlich) -->
<script defer src="{{ '/assets/js/lzgen.js' | relative_url }}"></script>
