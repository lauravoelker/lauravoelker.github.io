<!-- ============================= -->
<!-- Favicons and PWA manifest -->
<!-- ============================= -->
<link rel="apple-touch-icon" sizes="180x180" href="{{ '/assets/images/apple-touch-icon.png' | relative_url }}">
<link rel="icon" type="image/png" sizes="32x32" href="{{ '/assets/images/favicon-32x32.png' | relative_url }}">
<link rel="icon" type="image/png" sizes="96x96" href="{{ '/assets/images/favicon-96x96.png' | relative_url }}">
<link rel="icon" href="{{ '/assets/images/favicon.ico' | relative_url }}" type="image/x-icon">
<link rel="mask-icon" href="{{ '/assets/images/safari-pinned-tab.svg' | relative_url }}" color="#5bbad5">
<link rel="manifest" href="{{ '/assets/images/site.webmanifest' | relative_url }}">
<meta name="theme-color" content="#ffffff">

<!-- Site styles -->
<link rel="stylesheet" href="{{ '/assets/css/custom.css' | relative_url }}">

<!-- ============================= -->
<!-- Microsoft Clarity (load on consent) -->
<!-- ============================= -->
<script>
  function loadClarity() {
    if (window.__clarityLoaded) return;
    window.__clarityLoaded = true;
    (function(c,l,a,r,i,t,y){
      c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
      t=l.createElement(r); t.async=1; t.src="https://www.clarity.ms/tag/"+i;
      y=l.getElementsByTagName(r)[0]; y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "ss11kov13w"); /* your Clarity ID */
  }
</script>

<!-- ============================= -->
<!-- Google Analytics (load on consent) -->
<!-- ============================= -->
<script>
  function loadGoogleAnalytics() {
    if (window.__gaLoaded) return;
    window.__gaLoaded = true;

    var s = document.createElement('script');
    s.async = true;
    s.src = "https://www.googletagmanager.com/gtag/js?id=G-JYZXEG3WMC";
    document.head.appendChild(s);

    s.onload = function() {
      window.dataLayer = window.dataLayer || [];
      function gtag(){ dataLayer.push(arguments); }
      window.gtag = gtag;
      gtag('js', new Date());
      gtag('config', 'G-JYZXEG3WMC');
    };
  }
</script>

<!-- Bing verification -->
<meta name="msvalidate.01" content="01BA88336B57B13FF7CC44730E23B394">

<!-- ============================= -->
<!-- Cookie Consent (opt-in) -->
<!-- ============================= -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css">
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js"></script>
<script>
  window.addEventListener("load", function(){
    window.cookieconsent.initialise({
      palette: {
        popup: { background: "#000000", text: "#ffffff" },
        button:{ background: "#00fbff", text: "#ffffff" }
      },
      theme: "classic",
      position: "bottom",
      type: "opt-in",
      content: {
        message: "We use cookies to improve your experience. You can accept or decline.",
        dismiss: "Decline",
        allow: "Accept",
        link: "Learn more",
        href: "/privacy/"
      },
      onInitialise: function () {
        if (this.hasConsented()) { loadClarity(); loadGoogleAnalytics(); }
      },
      onStatusChange: function() {
        if (this.hasConsented()) { loadClarity(); loadGoogleAnalytics(); }
      }
    });
  });
</script>

{% comment %}
SEO and social meta tags (og:*, twitter:*) are rendered by Minimal Mistakes via jekyll-seo-tag.
Do not add them here to avoid duplicates. Set per-post images with:
image: "/assets/images/your-social-image.png"
{% endcomment %}
